import json

ARTIFACT_NAMES = [
    "–®–ª–∏—Ö „ÄΩÔ∏è", "–¢–∞–ª–∏—Å–º–∞–Ω —É–¥–∞—á–∏ üßø", "–†—é–∫–∑–∞–∫ –±–µ–∑–¥–Ω—ã üéí", "–ö–∏–Ω–∂–∞–ª —É–±–∏–π—Ü—ã üî™",
    "–ú–∞–≥–∏—á–µ—Å–∫–∏–π –≤–µ—Ä—Å—Ç–∞–∫ üóúÔ∏è", "–í–æ–ª—à–µ–±–Ω—ã–π —à–∞—Ä üîÆ", "–£—á–µ–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å üîé", "–ö–æ–º–ø–∞—Å üß≠"
]

def get_artifact_levels(levels_str):
    try:
        return json.loads(levels_str)
    except:
        return [0] * 8

def set_artifact_levels(levels_list):
    return json.dumps(levels_list)

def get_artifact_info(artifact_id, level):
    info = {
        0: f"–®–ª–∏—Ö „ÄΩÔ∏è\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–Ω–µ—Ç: {1000 * (1.25 ** level):,.0f}\n–î–æ—Ö–æ–¥: {0.25 * (level // 10):.2f} ü™ô/—Å–µ–∫",
        1: f"–¢–∞–ª–∏—Å–º–∞–Ω —É–¥–∞—á–∏ üßø\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–®–∞–Ω—Å –º–µ—à–æ—á–∫–∞ –∑–æ–ª–æ—Ç–∞: {0.1 * (level // 5):.1f}%\n–®–∞–Ω—Å –∫–æ—Ä–æ–±–∫–∏: {0.01 * (level // 10):.2f}%\n–®–∞–Ω—Å –±–∏–ª–µ—Ç–∞: {0.005 * (level // 25):.3f}%",
        2: f"–†—é–∫–∑–∞–∫ –±–µ–∑–¥–Ω—ã üéí\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤: {5000 * (1.3 ** level):,.0f}",
        3: f"–ö–∏–Ω–∂–∞–ª —É–±–∏–π—Ü—ã üî™\n–£—Ä–æ–≤–µ–Ω—å: {level}\n+{2 * level} –æ—á–∫–æ–≤\n+{20 * (level // 10)} –æ—á–∫–æ–≤\n+{5 * (level // 10)} –º–∏–Ω –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—é",
        4: f"–ú–∞–≥–∏—á–µ—Å–∫–∏–π –≤–µ—Ä—Å—Ç–∞–∫ üóúÔ∏è\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–î–æ–±—ã—á–∞: {5 * level} üî´/–º–∏–Ω\n–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: {100 + 10 * level} üî´",
        5: f"–í–æ–ª—à–µ–±–Ω—ã–π —à–∞—Ä üîÆ\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–î–æ–±—ã—á–∞ –ø—ã–ª–∏: {2 * level + 20 * (level // 10)} ‚ú®/—Å–µ–∫\n–®–∞–Ω—Å üí∑: {0.05 * (level // 10):.2f}%",
        6: f"–£—á–µ–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å üîé\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–ú–∞–∫—Å. –Ω–∞–≤—ã–∫–æ–≤ –≤ –æ–±—Å–µ—Ä–≤–∞—Ç–æ—Ä–∏–∏: {1 + (level // 10)}",
        7: f"–ö–æ–º–ø–∞—Å üß≠\n–£—Ä–æ–≤–µ–Ω—å: {level}\n–î–æ–±—ã—á–∞ —á–∞—Å—Ç–µ–π: {2 * level + 20 * (level // 10)} ‚ö±Ô∏è/–º–∏–Ω\n–®–∞–Ω—Å üí∞ –≤ –¥–∞–Ω–∂–µ: {0.08 * (level // 10):.2f}%"
    }
    return info.get(artifact_id, "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç")

def get_upgrade_cost(level):
    return {
        'coins': int(100 * (1.5 ** level)),
        'artifact_parts': int(10 * (1.4 ** level)),
        'magic_dust': int(5 * (1.3 ** level))
    }

# === –ù–û–í–û–ï: –§–£–ù–ö–¶–ò–Ø –î–û–•–û–î–ê ===
def calculate_passive_income(levels):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Ö–æ–¥ –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É.
    """
    income = {
        'coins': 0.0,
        'magic_dust': 0.0,
        'guns': 0.0,
        'artifact_parts': 0.0
    }

    # –®–ª–∏—Ö ‚Äî –º–æ–Ω–µ—Ç—ã
    shlih_level = levels[0]
    income['coins'] += 0.25 * (shlih_level // 10)

    # –í–æ–ª—à–µ–±–Ω—ã–π —à–∞—Ä ‚Äî –ø—ã–ª—å
    orb_level = levels[5]
    income['magic_dust'] += 2 * orb_level + 20 * (orb_level // 10)

    # –ú–∞–≥–∏—á–µ—Å–∫–∏–π –≤–µ—Ä—Å—Ç–∞–∫ ‚Äî —Å–∞–º–æ–ø–∞–ª—ã (–≤ –º–∏–Ω—É—Ç—É ‚Üí –≤ —Å–µ–∫—É–Ω–¥—É)
    bench_level = levels[4]
    income['guns'] += (5 * bench_level) / 60.0

    # –ö–æ–º–ø–∞—Å ‚Äî —á–∞—Å—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (–≤ –º–∏–Ω—É—Ç—É ‚Üí –≤ —Å–µ–∫—É–Ω–¥—É)
    compass_level = levels[7]
    income['artifact_parts'] += (2 * compass_level + 20 * (compass_level // 10)) / 60.0

    return income